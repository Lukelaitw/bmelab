# Arduino 藍牙模組傳送訊息給手機 - 使用說明

## 檔案說明

1. **`bluetooth_sender.ino`** - 完整功能版本
   - 包含感測器數據傳送
   - 按鈕控制
   - LED狀態指示
   - 雙向通訊

2. **`simple_bluetooth.ino`** - 簡化版本
   - 基本訊息傳送
   - 適合初學者

## 硬體接線

### HC-05/HC-06 藍牙模組
```
藍牙模組    Arduino
VCC    ->  5V
GND    ->  GND
TXD    ->  Pin 2 (RX)
RXD    ->  Pin 3 (TX)
```

### HM-10 藍牙模組
```
藍牙模組    Arduino
VCC    ->  3.3V
GND    ->  GND
TXD    ->  Pin 2 (RX)
RXD    ->  Pin 3 (TX)
```

## 手機端設定

### Android 手機
1. 開啟「設定」->「藍牙」
2. 搜尋可用裝置
3. 找到您的藍牙模組（通常是 HC-05 或 HM-10）
4. 點擊配對
5. 使用藍牙終端機 App（如「Bluetooth Terminal」）

### iOS 手機
1. 開啟「設定」->「藍牙」
2. 搜尋可用裝置
3. 配對藍牙模組
4. 使用藍牙終端機 App

## 推薦的手機 App

### Android
- **Bluetooth Terminal** - 簡單易用
- **Serial Bluetooth Terminal** - 功能豐富
- **Arduino Bluetooth Controller** - 專為Arduino設計

### iOS
- **LightBlue Explorer** - 專業藍牙工具
- **Bluetooth Terminal** - 基本終端機
- **Serial** - 序列埠通訊

## 程式功能說明

### 完整版本 (bluetooth_sender.ino)
- **自動傳送感測器數據**：每秒傳送一次類比感測器數值
- **按鈕控制**：按下按鈕時發送訊息
- **LED控制**：可透過手機指令控制LED
- **雙向通訊**：可接收手機指令並回應

#### 支援的手機指令
- `LED_ON` - 開啟LED
- `LED_OFF` - 關閉LED
- `STATUS` - 查詢系統狀態
- `HELLO` - 測試通訊

### 簡化版本 (simple_bluetooth.ino)
- **基本訊息傳送**：每秒發送問候訊息
- **時間戳記**：顯示Arduino運行時間
- **訊息回應**：可接收並回應手機訊息

## 故障排除

### 常見問題

1. **藍牙模組無法配對**
   - 確認接線正確
   - 檢查電源供應（5V或3.3V）
   - 嘗試重新配對

2. **無法接收訊息**
   - 確認序列埠設定為9600 baud
   - 檢查手機App設定
   - 確認藍牙已正確連接

3. **訊息亂碼**
   - 檢查序列埠速度設定
   - 確認手機App編碼設定

### 除錯步驟

1. 開啟Arduino IDE的序列埠監視器
2. 設定速度為9600 baud
3. 觀察Arduino輸出訊息
4. 確認藍牙模組回應

## 進階功能

### 自訂訊息格式
```cpp
// 傳送JSON格式數據
String jsonData = "{\"sensor\":" + String(sensorValue) + ",\"time\":" + String(millis()) + "}";
bluetooth.println(jsonData);
```

### 多感測器支援
```cpp
// 讀取多個感測器
int temp = analogRead(A0);
int light = analogRead(A1);
int sound = analogRead(A2);

// 傳送組合數據
bluetooth.println("T:" + String(temp) + ",L:" + String(light) + ",S:" + String(sound));
```

## 注意事項

1. **電源供應**：確保藍牙模組有足夠的電源
2. **接線品質**：使用良好的杜邦線
3. **距離限制**：藍牙通訊距離約10公尺
4. **干擾**：避免WiFi等無線訊號干擾

## 下一步

- 嘗試連接多個感測器
- 建立手機App來接收數據
- 實作數據記錄功能
- 加入無線控制功能
